{"ast":null,"code":"import swal from \"sweetalert\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  name: \"AllCategories\",\n  data() {\n    return {\n      dialog: false,\n      headers: [{\n        text: \"Id\",\n        align: \"start\",\n        sortable: true,\n        value: \"id\"\n      }, {\n        text: \"Title\",\n        value: \"categoryname\"\n      }, {\n        text: \"Description\",\n        value: \"categorydes\"\n      }, {\n        text: \"Status\",\n        value: \"status\"\n      }, {\n        text: \"Actions\",\n        value: \"actions\"\n      }],\n      category: [],\n      search: \"\"\n    };\n  },\n  computed: {\n    ...mapGetters([\"allcategory\"]),\n    // Filter Category data based on category name\n    filteredItems() {\n      return this.allcategory.filter(item => {\n        console.log(item, \"item\");\n        return item.categoryname.match(this.search);\n      });\n    }\n  },\n  methods: {\n    ...mapActions([\"getCategory\", \"deleteCategory\"]),\n    //Remove Category function\n    removecategory(id) {\n      swal({\n        title: \"Are you sure?\",\n        text: \"Once deleted, you will not be able to recover this task details!\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          this.deleteCategory(id);\n          swal(\"Poof! Your task details has been deleted!\", {\n            icon: \"success\"\n          });\n          this.$router.go();\n        } else {\n          swal(\"Your task details  is safe!\");\n        }\n      });\n    },\n    // Status change function\n    async changeStatus(item) {\n      console.log(item.status, \"all status\");\n      const response = await axios.put(`http://localhost:3000/category/${item.id}`, {\n        categoryname: item.categoryname,\n        categorydes: item.categorydes,\n        status: item.status.toString()\n      });\n      console.log(response, \"edit\");\n    }\n  },\n  created() {\n    this.getCategory();\n  },\n  mounted() {\n    let response = this.$store.state.category;\n    this.category = response.category;\n    // console.log(this.category);\n  }\n};","map":{"version":3,"names":["swal","mapActions","mapGetters","axios","name","data","dialog","headers","text","align","sortable","value","category","search","computed","filteredItems","allcategory","filter","item","console","log","categoryname","match","methods","removecategory","id","title","icon","buttons","dangerMode","then","willDelete","deleteCategory","$router","go","changeStatus","status","response","put","categorydes","toString","created","getCategory","mounted","$store","state"],"sources":["src/views/Categories/AllCategories.vue"],"sourcesContent":["\r\n<template v-for=\"data in allcategory \" :key=\"data.id\">\r\n  <v-container fluid>\r\n    <v-row>\r\n      <v-col cols=\"2\"></v-col>\r\n      <v-col cols=\"8\">\r\n        <v-main>\r\n          <router-link style=\"text-decoration: none\" to=\"/addcategory\"\r\n            ><v-btn color=\"primary\" class=\"mx-4\">\r\n              Add Categories\r\n            </v-btn></router-link\r\n          >\r\n\r\n          <router-link style=\"text-decoration: none\" to=\"/allitem\"\r\n            ><v-btn color=\"success\" class=\"mr-4\">\r\n              All items\r\n            </v-btn></router-link\r\n          >\r\n          <router-link style=\"text-decoration: none\" to=\"/\"\r\n            ><v-btn color=\"warning\" class=\"mr-4 dark\">\r\n              Home\r\n            </v-btn></router-link\r\n          ></v-main\r\n        >\r\n        <!-- Searchbar for Searching Category based on Categories name  -->\r\n        <v-card-title>\r\n          <v-text-field\r\n            v-model=\"search\"\r\n            append-icon=\"mdi-magnify\"\r\n            label=\"Search\"\r\n            single-line\r\n            hide-details\r\n          ></v-text-field>\r\n        </v-card-title>\r\n <!-- Data table for display all Categories details -->\r\n        <v-data-table :headers=\"headers\" :items=\"filteredItems\">\r\n          <template v-slot:[`item.status`]=\"{ item }\">\r\n            <v-switch\r\n              flat\r\n              v-model=\"item.status.toString()}\r\n              color=\"success\"\r\n              :label=\"`${item.status.toString() == 'true' ? 'Active' : 'Deactive'}`\"\r\n              @change=\"changeStatus(item)\"\r\n            ></v-switch>\r\n          </template>\r\n          <template v-slot:[`item.actions`]=\"{ item }\">\r\n            <router-link\r\n              style=\"text-decoration: none\"\r\n              :to=\"`/editcategory/${item.id}`\"\r\n              ><v-icon small class=\"mr-2\"> mdi-pencil </v-icon></router-link\r\n            >\r\n            <v-icon small @click=\"removecategory(item.id)\"> mdi-delete </v-icon>\r\n          </template>\r\n        </v-data-table>\r\n      </v-col>\r\n      <v-col cols=\"2\"></v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport swal from \"sweetalert\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"AllCategories\",\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      headers: [\r\n        {\r\n          text: \"Id\",\r\n          align: \"start\",\r\n          sortable: true,\r\n          value: \"id\",\r\n        },\r\n        { text: \"Title\", value: \"categoryname\" },\r\n        { text: \"Description\", value: \"categorydes\" },\r\n        { text: \"Status\", value: \"status\" },\r\n        { text: \"Actions\", value: \"actions\" },\r\n      ],\r\n      category: [],\r\n      search: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"allcategory\"]),\r\n\r\n      // Filter Category data based on category name\r\n    filteredItems() {\r\n      return this.allcategory.filter((item) => {\r\n        console.log(item, \"item\");\r\n        return item.categoryname.match(this.search);\r\n      });\r\n    },\r\n    \r\n  },\r\n  methods: {\r\n    ...mapActions([\"getCategory\", \"deleteCategory\"]),\r\n//Remove Category function\r\n    removecategory(id) {\r\n      swal({\r\n        title: \"Are you sure?\",\r\n        text: \"Once deleted, you will not be able to recover this task details!\",\r\n        icon: \"warning\",\r\n        buttons: true,\r\n        dangerMode: true,\r\n      }).then((willDelete) => {\r\n        if (willDelete) {\r\n          this.deleteCategory(id);\r\n\r\n          swal(\"Poof! Your task details has been deleted!\", {\r\n            icon: \"success\",\r\n          });\r\n          this.$router.go();\r\n        } else {\r\n          swal(\"Your task details  is safe!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    // Status change function\r\n    async changeStatus(item) {\r\n      console.log(item.status, \"all status\");\r\n      const response = await axios.put(\r\n        `http://localhost:3000/category/${item.id}`,\r\n        {\r\n          categoryname: item.categoryname,\r\n          categorydes: item.categorydes,\r\n          status: item.status.toString(),\r\n        }\r\n      );\r\n\r\n      console.log(response, \"edit\");\r\n    },\r\n  },\r\n\r\n  \r\n \r\n\r\n  created() {\r\n    this.getCategory();\r\n  },\r\n  mounted() {\r\n    let response = this.$store.state.category;\r\n    this.category = response.category;\r\n    // console.log(this.category);\r\n  },\r\n};\r\n</script>"],"mappings":"AA6DA,OAAAA,IAAA;AACA,SAAAC,UAAA,EAAAC,UAAA;AACA,OAAAC,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,OAAA,GACA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;QACAC,KAAA;MACA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,EACA;MACAC,QAAA;MACAC,MAAA;IACA;EACA;EAEAC,QAAA;IACA,GAAAZ,UAAA;IAEA;IACAa,cAAA;MACA,YAAAC,WAAA,CAAAC,MAAA,CAAAC,IAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA;QACA,OAAAA,IAAA,CAAAG,YAAA,CAAAC,KAAA,MAAAT,MAAA;MACA;IACA;EAEA;EACAU,OAAA;IACA,GAAAtB,UAAA;IACA;IACAuB,eAAAC,EAAA;MACAzB,IAAA;QACA0B,KAAA;QACAlB,IAAA;QACAmB,IAAA;QACAC,OAAA;QACAC,UAAA;MACA,GAAAC,IAAA,CAAAC,UAAA;QACA,IAAAA,UAAA;UACA,KAAAC,cAAA,CAAAP,EAAA;UAEAzB,IAAA;YACA2B,IAAA;UACA;UACA,KAAAM,OAAA,CAAAC,EAAA;QACA;UACAlC,IAAA;QACA;MACA;IACA;IAEA;IACA,MAAAmC,aAAAjB,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA,CAAAkB,MAAA;MACA,MAAAC,QAAA,SAAAlC,KAAA,CAAAmC,GAAA,CACA,kCAAApB,IAAA,CAAAO,EAAA,IACA;QACAJ,YAAA,EAAAH,IAAA,CAAAG,YAAA;QACAkB,WAAA,EAAArB,IAAA,CAAAqB,WAAA;QACAH,MAAA,EAAAlB,IAAA,CAAAkB,MAAA,CAAAI,QAAA;MACA,EACA;MAEArB,OAAA,CAAAC,GAAA,CAAAiB,QAAA;IACA;EACA;EAKAI,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,QAAA;IACA,IAAAN,QAAA,QAAAO,MAAA,CAAAC,KAAA,CAAAjC,QAAA;IACA,KAAAA,QAAA,GAAAyB,QAAA,CAAAzB,QAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}